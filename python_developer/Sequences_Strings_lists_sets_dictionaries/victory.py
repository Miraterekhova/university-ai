"""Задание
Написать или улучшить программу Викторина из предыдущего дз (Для тренировки предлагаю не пользоваться никакими библиотеками кроме random)
Есть 10 известных людей и их даты рождения в формате '02.01.1988' ('dd.mm.yyyy') - предлагаю для тренировки пока использовать строку
Программа выбирает из этих 10-и 5 случайных людей, это можно реализовать с помощью модуля random и функции sample
Пример использования sample:
import random
numbers = [1, 2, 3, 4, 5]

# 2 - количество случайных элементов
result = random.sample(numbers, 2)

print(result) # [5, 1]

После того как выбраны 5 случайных людей, предлагаем пользователю ввести их дату рождения
пользователь вводит дату в формате 'dd.mm.yyyy'

Например 03.01.2009, если пользователь ответил неверно, то выводим правильный ответ, но уже в следующем виде: третье января 2009 года, склонением можно пренебречь

В конце считаем количество правильных и неправильных ответов и предлагаем начать снова"""


import random

people = {
    "Иван Иванов": "02.01.1988",
    "Мария Петрова": "15.05.1992",
    "Алексей Смирнов": "29.11.1985",
    "Екатерина Сидорова": "07.07.1990",
    "Сергей Кузнецов": "21.03.1987",
    "Анна Михайлова": "14.08.1989",
    "Дмитрий Поляков": "05.12.1986",
    "Ольга Орлова": "19.09.1991",
    "Максим Соколов": "11.04.1988",
    "Татьяна Лебедева": "28.06.1993"
}

def get_date_parts(date_str):
    parts = date_str.split(".")
    return int(parts[0]), int(parts[1]), int(parts[2])

def format_date(day, month, year):
    months = ["января", "февраля", "марта", "апреля", "мая", "июня",
              "июля", "августа", "сентября", "октября", "ноября", "декабря"]
    return f"{day} {months[month-1]} {year} года"

def main():
    while True:
        chosen_people = random.sample(list(people.keys()), 5)


        correct_answers = 0
        for person in chosen_people:
            user_date = input(f"Когда родился {person}? ")
            correct_date = people[person]


            if user_date == correct_date:
                print("Правильно!")
                correct_answers += 1
            else:
                day, month, year = get_date_parts(correct_date)
                print(f"Неправильно. {person} родился {format_date(day, month, year)}")


        print(f"Вы ответили правильно на {correct_answers} из 5 вопросов.")
        if input("Хотите сыграть еще раз? (y/n) ").lower() != "y":
            break

if __name__ == "__main__":
    main()